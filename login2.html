<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>博学谷-登录/注册</title>
    <link rel="stylesheet" href="./assets/bootstrap/css/bootstrap.css"></link>
    <link rel="stylesheet" href="./css/login.css"/>
</head>
<body>
<!--注册、登录窗口主体-->
<div class="container">
    <form class="form-horizontal" id="formLogin">
        <h3 class="text-center">管理系统</h3>

        <div class="form-group">
            <label class="col-sm-2 control-label">用户名</label>

            <div class="col-sm-10">
                <input type="email" class="form-control" name="tx_name" placeholder="请输入用户名">
            </div>
        </div>
        <div class="form-group">
            <label class="col-sm-2 control-label">密码</label>

            <div class="col-sm-10">
                <input type="password" class="form-control" name="tc_pass" placeholder="请输入密码">
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-10 col-md-offset-2">
                <button class="btn btn-primary btn-block" id="#btnLogin">登录</button>
            </div>
        </div>
    </form>

</div>
</body>

<script src="js/lib/jquery-2.1.4.js"></script>
<script src="assets/bootstrap/js/bootstrap.js"></script>
<script>
    

    $("#formLogin").on("submit",function () {
//    $("#formLogin").on("submit", function () {
        //1. 获取表单数据
        var formData = $("#formLogin").serialize();
        console.log("aaa");
        //2. 请求后台接口，验证登录是否成功
        $.ajax({
            url: "/api/login",
            method: "POST",
            data:formData,
            success: function (res) {
                //2.1 验证成功 页面跳转
            //console.log("bbb");
                if (res.code == 200) {
                    //console.log("ccc");
                    location.href='index0.html';
                    return;
                }

            },
            error: function (res) {

                console.log(res);

            }
        })

    })

</script>
</html>